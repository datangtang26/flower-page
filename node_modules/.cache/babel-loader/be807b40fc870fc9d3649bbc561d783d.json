{"remainingRequest":"/Users/a58/testCode/niuniu/flower/node_modules/babel-loader/lib/index.js!/Users/a58/testCode/niuniu/flower/node_modules/eslint-loader/index.js??ref--13-0!/Users/a58/testCode/niuniu/flower/src/utils/http.js","dependencies":[{"path":"/Users/a58/testCode/niuniu/flower/src/utils/http.js","mtime":1611636976947},{"path":"/Users/a58/testCode/niuniu/flower/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a58/testCode/niuniu/flower/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/a58/testCode/niuniu/flower/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL2E1OC90ZXN0Q29kZS9uaXVuaXUvZmxvd2VyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2E1OC90ZXN0Q29kZS9uaXVuaXUvZmxvd2VyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CgovKioKICogaHR0cCDmlbDmja7or7fmsYIKICog5pSv5oyB77yaZ2V044CBcG9zdOOAgWpzb25wCiAqLwppbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgSnNvbnAgZnJvbSAnanNvbnAnOwppbXBvcnQgUXMgZnJvbSAncXMnOwoKdmFyIEh0dHAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEh0dHAoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSHR0cCk7CgogICAgdGhpcy5heGlvcyA9IEF4aW9zOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEh0dHAsIFt7CiAgICBrZXk6ICJnZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldCh1cmwpIHsKICAgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICAgICAgdmFyIGNvbmZpZ0RhdGEgPSBPYmplY3QuYXNzaWduKHsKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgICAgICAgdGltZW91dDogMzAwMCwKICAgICAgICBwYXJhbXM6IGRhdGEKICAgICAgfSwgY29uZmlnKTsKICAgICAgcmV0dXJuIHRoaXMuYXhpb3MuZ2V0KHVybCwgY29uZmlnRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIGVycjsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicG9zdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zdCh1cmwpIHsKICAgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICAgICAgdmFyIGNvbmZpZ0RhdGEgPSBPYmplY3QuYXNzaWduKHsKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgICAgICAgdGltZW91dDogMzAwMCwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JwogICAgICAgIH0KICAgICAgfSwgY29uZmlnKTsKICAgICAgcmV0dXJuIHRoaXMuYXhpb3MucG9zdCh1cmwsIFFzLnN0cmluZ2lmeShkYXRhKSwgY29uZmlnRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIGVycjsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAianNvbnAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGpzb25wKHVybCkgewogICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogICAgICB2YXIgZXh0cmEgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHVybCA9ICIiLmNvbmNhdCh1cmwpLmNvbmNhdChRcy5zdHJpbmdpZnkoZGF0YSwgewogICAgICAgICAgYWRkUXVlcnlQcmVmaXg6IHRydWUKICAgICAgICB9KSk7CiAgICAgICAgdmFyIGNvbmZpZ0RhdGEgPSBPYmplY3QuYXNzaWduKHsKICAgICAgICAgIHByZWZpeDogJ2pwJywKICAgICAgICAgIHBhcmFtOiAnanNvbmNhbGxiYWNrJywKICAgICAgICAgIHRpbWVvdXQ6IDMwMDAKICAgICAgICB9LCBjb25maWcpOwogICAgICAgIEpzb25wKHVybCwgY29uZmlnRGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzKSB7CiAgICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBIdHRwOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBuZXcgSHR0cCgpOw=="},{"version":3,"sources":["/Users/a58/testCode/niuniu/flower/src/utils/http.js"],"names":["Axios","Jsonp","Qs","Http","axios","url","data","config","configData","Object","assign","withCredentials","timeout","params","get","then","res","catch","err","headers","post","stringify","extra","Promise","resolve","reject","addQueryPrefix","prefix","param"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;;IAEMC,I;AACJ,kBAAc;AAAA;;AACZ,SAAKC,KAAL,GAAaJ,KAAb;AACD;;;;wBAEGK,G,EAA6B;AAAA,UAAxBC,IAAwB,uEAAjB,EAAiB;AAAA,UAAbC,MAAa,uEAAJ,EAAI;AAE/B,UAAMC,UAAU,GAAGC,MAAM,CAACC,MAAP,CAAc;AAC/BC,QAAAA,eAAe,EAAE,IADc;AAE/BC,QAAAA,OAAO,EAAE,IAFsB;AAG/BC,QAAAA,MAAM,EAAEP;AAHuB,OAAd,EAIhBC,MAJgB,CAAnB;AAKA,aAAO,KAAKH,KAAL,CAAWU,GAAX,CAAeT,GAAf,EAAoBG,UAApB,EACJO,IADI,CACC,UAAAC,GAAG,EAAI;AACX,eAAOA,GAAG,CAACV,IAAX;AACD,OAHI,EAIJW,KAJI,CAIE,UAAAC,GAAG,EAAI;AACZ,eAAOA,GAAP;AACD,OANI,CAAP;AAOD;;;yBAEIb,G,EAA6B;AAAA,UAAxBC,IAAwB,uEAAjB,EAAiB;AAAA,UAAbC,MAAa,uEAAJ,EAAI;AAChC,UAAMC,UAAU,GAAGC,MAAM,CAACC,MAAP,CAAc;AAC/BC,QAAAA,eAAe,EAAE,IADc;AAE/BC,QAAAA,OAAO,EAAE,IAFsB;AAG/BO,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAHsB,OAAd,EAMhBZ,MANgB,CAAnB;AAQA,aAAO,KAAKH,KAAL,CAAWgB,IAAX,CAAgBf,GAAhB,EAAqBH,EAAE,CAACmB,SAAH,CAAaf,IAAb,CAArB,EAAyCE,UAAzC,EACJO,IADI,CACC,UAAAC,GAAG,EAAI;AACX,eAAOA,GAAG,CAACV,IAAX;AACD,OAHI,EAIJW,KAJI,CAIE,UAAAC,GAAG,EAAI;AACZ,eAAOA,GAAP;AACD,OANI,CAAP;AAOD;;;0BAEKb,G,EAAyC;AAAA,UAApCC,IAAoC,uEAA7B,EAA6B;AAAA,UAAzBC,MAAyB,uEAAhB,EAAgB;AAAA,UAAZe,KAAY,uEAAJ,EAAI;AAE7C,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAEtCpB,QAAAA,GAAG,aAAMA,GAAN,SAAYH,EAAE,CAACmB,SAAH,CAAaf,IAAb,EAAmB;AAAEoB,UAAAA,cAAc,EAAE;AAAlB,SAAnB,CAAZ,CAAH;AACA,YAAIlB,UAAU,GAAGC,MAAM,CAACC,MAAP,CAAc;AAC7BiB,UAAAA,MAAM,EAAE,IADqB;AAE7BC,UAAAA,KAAK,EAAE,cAFsB;AAG7BhB,UAAAA,OAAO,EAAE;AAHoB,SAAd,EAIdL,MAJc,CAAjB;AAKAN,QAAAA,KAAK,CAACI,GAAD,EAAMG,UAAN,EAAkB,UAAUU,GAAV,EAAeF,GAAf,EAAoB;AACzC,cAAIE,GAAJ,EAAS;AACPO,YAAAA,MAAM,CAACP,GAAD,CAAN;AACD,WAFD,MAEO;AACLM,YAAAA,OAAO,CAACR,GAAD,CAAP;AACD;AACF,SANI,CAAL;AAOD,OAfM,CAAP;AAgBD;;;;;;AAGH,eAAe,IAAIb,IAAJ,EAAf","sourcesContent":["/**\n * http 数据请求\n * 支持：get、post、jsonp\n */\n\nimport Axios from 'axios'\nimport Jsonp from 'jsonp'\nimport Qs from 'qs'\n\nclass Http {\n  constructor() {\n    this.axios = Axios\n  }\n\n  get(url, data = {}, config = {}) {\n    \n    const configData = Object.assign({\n      withCredentials: true,\n      timeout: 3000,\n      params: data\n    }, config);\n    return this.axios.get(url, configData)\n      .then(res => {\n        return res.data\n      })\n      .catch(err => {\n        return err\n      })\n  }\n\n  post(url, data = {}, config = {}) {\n    const configData = Object.assign({\n      withCredentials: true,\n      timeout: 3000,\n      headers: {\n        'content-type': 'application/x-www-form-urlencoded;charset=utf-8'\n      }\n    }, config)\n\n    return this.axios.post(url, Qs.stringify(data), configData)\n      .then(res => {\n        return res.data\n      })\n      .catch(err => {\n        return err\n      })\n  }\n\n  jsonp(url, data = {}, config = {}, extra = {}) {\n\n    return new Promise((resolve, reject) => {\n\n      url = `${url}${Qs.stringify(data, { addQueryPrefix: true })}`;\n      let configData = Object.assign({\n        prefix: 'jp',\n        param: 'jsoncallback',\n        timeout: 3000\n      }, config)\n      Jsonp(url, configData, function (err, res) {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(res)\n        }\n      })\n    })\n  }\n}\n\nexport default new Http()\n"]}]}